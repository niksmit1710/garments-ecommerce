{% extends 'base.html' %}

{% block title %}{{ product.name }}{% endblock %}

{% block content %}
    <!-- existing product detail code here -->

<div class="container mt-5">
    <div class="row">

        <!-- ========== LEFT : IMAGE GALLERY ========== -->
        <div class="col-md-5">

            <!-- Main Image Wrapper -->
            <div class="image-wrapper mb-3">
                <button class="arrow-btn arrow-left" onclick="showPrev()">❮</button>

                <img id="mainImage"
                     src="{{ product.image.url }}"
                     alt="{{ product.name }}">

                <button class="arrow-btn arrow-right" onclick="showNext()">❯</button>
            </div>

            <!-- Thumbnails -->
            <div class="d-flex gap-2 flex-wrap">
                <img src="{{ product.image.url }}"
                     class="thumb-img active"
                     onclick="changeImage(this)">

                {% for img in product.images.all %}
                    <img src="{{ img.image.url }}"
                         class="thumb-img"
                         onclick="changeImage(this)">
                {% endfor %}
            </div>
        </div>

        <!-- ========== RIGHT : PRODUCT INFO ========== -->
        <div class="col-md-7">
            <h2>{{ product.name }}</h2>

            {% if product.brand %}
                <p class="text-muted">
                    Brand: <strong>{{ product.brand.name }}</strong>
                </p>
            {% endif %}

            <h4>₹ {{ product.price }}</h4>

            <p>{{ product.description }}</p>

            {% if product.sizes.all %}
                <label class="form-label"><strong>Select Size</strong></label>
                <select class="form-select mb-3">
                    {% for size in product.sizes.all %}
                        <option>{{ size }}</option>
                    {% endfor %}
                </select>
            {% endif %}

            {% if product.stock > 0 %}
                <p class="text-success">In Stock</p>
            {% else %}
                <p class="text-danger">Out of Stock</p>
            {% endif %}

            <a href="{% url 'cart:add_to_cart' product.id %}"
   class="btn btn-dark btn-lg w-100">
   Add to Cart
</a>

<!--
            <button class="btn btn-dark btn-lg w-100">
                Add to Cart
            </button>
        -->
        </div>

    </div>
</div>

{% endblock %}
